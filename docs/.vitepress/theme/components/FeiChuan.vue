<template>
<div class="introduce">

    <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 150 51">
        <component :is="'style'">
            @keyframes draw {
            to {
            stroke-dashoffset: 0;
            }
            }
        </component>
        <foreignObject width="100%" height="100%">
        <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: center; height: 100%; justify-content: center;"><div style="display: inline-flex; align-items: center; margin: 0 -13px 0 -5px;"><svg style="display: inline-block; width: 60px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 60 51" height="51" width="60"><path stroke-dasharray="191" stroke-dashoffset="191" style="animation: draw 1.9100000000000001s 0s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M3.99414 15.4999C18.0539 7.88344 40.9941 2.5 58.4941 4.49991C15.9941 5.5 23.4941 9 1.49414 47.4999C4.49414 33.5 3.99414 25.5 43.9941 22.9999"></path></svg></div><div style="display: inline-flex; align-items: center; margin: 0 -4px 0 0;"><svg style="display: inline-block; width: 11px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 11 51" height="51" width="11"><path stroke-dasharray="22" stroke-dashoffset="22" style="animation: draw 0.22s 1.9100000000000001s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M3.07713 25.3392C3.03314 27.7282 6.78706 24.9554 6.03999 23.505C4.44172 21.2653 -0.294204 28.3892 2.71291 28.2186C5.35941 27.9626 10.2422 24.7207 10.2422 24.7207"></path></svg></div><div style="display: inline-flex; align-items: center; margin: 0 -3.5px 0 0;"><svg style="display: inline-block; width: 9px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 9 51" height="51" width="9"><path stroke-dasharray="16" stroke-dashoffset="16" style="animation: draw 0.16s 2.1300000000000003s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M3.7548 22.9229C2.60207 23.529 -0.752212 29.5295 1.61166 28.7618C3.97553 27.994 5.61205 25.8726 7.67374 24.721"></path></svg></div><div style="width: 7px;"></div><div style="display: inline-flex; align-items: center; margin: 0 -5px 0 -6px;"><svg style="display: inline-block; width: 37px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 37 51" height="51" width="37"><path stroke-dasharray="101" stroke-dashoffset="101" style="animation: draw 1.01s 2.2900000000000005s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M35.1522 7.2324C38.1612 -9.90171 5.01684 18.1833 1.44481 44.1581C-0.863382 60.9427 22.8446 32.2692 28.2295 28.4927"></path></svg></div><div style="display: inline-flex; align-items: center; margin: 0 -4px 0 -1px;"><svg style="display: inline-block; width: 18px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 51" height="51" width="18"><path stroke-dasharray="48" stroke-dashoffset="48" style="animation: draw 0.48s 3.3000000000000007s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M14.75 6.08472C8.75724 15.6124 5.74081 20.6113 1.16797 28.7222C2.27051 26.7174 7.40879 23.7648 9.19185 23.8223C10.4381 23.8798 8.46919 26.815 9.75037 27.5733C11.2054 28.4346 16.3726 24.6677 16.3726 24.6677"></path></svg></div><div style="display: inline-flex; align-items: center; margin: 0 -4.5px 0 0;"><svg style="display: inline-block; width: 13px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 51" height="51" width="13"><path stroke-dasharray="28" stroke-dashoffset="28" style="animation: draw 0.28s 3.7800000000000007s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M4.02467 23.277C3.02512 22.8065 0.89338 26.614 1.20215 28.0439C1.51091 29.4737 7.5177 23.0864 7.5177 23.0864C7.5177 23.0864 4.71947 27.0005 5.80301 28.3576C6.96087 28.8941 10.5935 24.8364 11.7727 24.2932"></path></svg></div><div style="display: inline-flex; align-items: center; margin: 0 -4px 0 0;"><svg style="display: inline-block; width: 13px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 51" height="51" width="13"><path stroke-dasharray="36" stroke-dashoffset="36" style="animation: draw 0.36s 4.0600000000000005s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M5.99958 25C5.73591 21.1582 1.99899 25.5 1.49941 28C1.00013 30.5 7.65454 23.3545 7.65454 23.3545C3.5802 27.3691 3.29278 30.5313 4.09638 30.7478C5.08629 31.0263 12.2012 24.7466 12.2012 24.7466"></path></svg></div><div style="display: inline-flex; align-items: center; margin: 0 -5px 0 0;"><svg style="display: inline-block; width: 15px; height: 100%;"  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 15 51" height="51" width="15"><path stroke-dasharray="27" stroke-dashoffset="27" style="animation: draw 0.27s 4.420000000000001s forwards;" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M4.42188 23.1724L1.16211 28.4658C3.87099 25.9122 7.65167 23.2024 8.42922 23.7108C8.87781 23.9799 6.69468 26.9705 7.8311 27.4191C8.96753 27.8677 11.8983 25.565 14.0814 24.7575"></path></svg></div></div></foreignObject>
    </svg>
</div>
</template>

<script lang='ts' setup>
import { ref, watch } from 'vue';
import { useData } from 'vitepress';
import { onMounted } from 'vue';
let pathAll;
let color = ["white","black"]
const {isDark} = useData()
onMounted(()=>{
    pathAll = document.getElementsByTagName('path')
    console.log(isDark.value);
    
    changeColor(isDark.value)
})
async function changeColor(value: boolean) {
    let index = value ? 0 : 1;
    for (let i = 0; i < 10; i++) {
        pathAll[i].style.stroke = color[index];
        // 添加这一行来动态设置 stroke-width
        pathAll[i].style.strokeWidth = value ? '1.5px' : '1px';
    }
}
const stopWatch = watch(isDark,(value)=>{
    console.log(value);
    changeColor(value)
})
</script>

<style scoped>
/*  样式  */
@keyframes draw {
    to {
        stroke-dashoffset: 0;
    }
}
.introduce{
    display: flex;
    height: 20vh;
}
/* 添加新的样式 */
svg path {
    filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.3));
    transition: all 0.3s ease;
    stroke-width: 1px;
}

:root svg path {
    filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.3));
    stroke-width: 1px;
}

.dark svg path {
    filter: drop-shadow(0px 1px 1px rgba(255, 255, 255, 0.3));
    stroke-width: 1.5px;
}
</style>